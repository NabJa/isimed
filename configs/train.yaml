######################################################
#### Basic config file to train MedDistSLL model. ####
######################################################

# General settings
model:
  desc: Model type to be trained. Choose between simclr, meddist and barlow.
  value: simclr

data:
  desc: Dataset to train on. This can be brats or autopet.
  value: brats

embedding_size:
  desc: Size of the feature vector of the trained model.
  value: 1024

crop_size:
  desc: Size of the crop.
  value: 32

# SSL settings
epochs:
  desc: Number of epochs to train over
  value: 50

number_of_crops:
  desc: Crops sampled per patient. This is the same as batch size in this training logic.
  value: 256

batch_size:
  desc: From how many patients we will take the crops. ATTENTION The total batch size is batch_size * number_of_crops
  value: 2

lr:
  desc: Learning rate
  value: 0.001

augment:
  desc: Whether to add simple intensity augmentation. They are applied on the full image.
  value: False

temperature:
  desc: In SimCLR this is as in paper. In meddist this is a weighing of the KL-Divergence.
  value: 0.05


# Setting for downstream task 
run_downsream_task:
  desc: Wheather to run classification task
  value: true

downstream_every_n_epochs:
  desc: When to do the downstram classification.
  value: 2

retrain_backbone:
  desc: If true, the backbone will be retrain.
  value: false

pos_weight:
  desc: A weight of positive examples for the pytorch BCEWithLogitsLoss.
  value: 3.0

downstream_number_of_crops:
  desc: Crops sampled per patient. This is the same as batch size in this training logic.
  value: 32

downstream_epochs:
  desc: Epochs.
  value: 2
